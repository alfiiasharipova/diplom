# План тестирования покупки Тура

## Перечень автоматизируемых сценариев
### UI тесты:
#### Купить по карте:
* Отправка формы с номером карты, где статус Approved
* Отправка формы с номером карты, где статус Decline
* Отправка формы с поочередно пустыми полями (5 тестов на каждое поле)
* Отправка формы с поочередно невалидными форматами полей - с одним символом в поле (5 тестов на каждое поле)

#### Купить в кредит:
* Отправка формы с номером карты, где статус Approved
* Отправка формы с номером карты, где статус Decline
* Отправка формы с поочередно пустыми полями (5 тестов на каждое поле)
* Отправка формы с поочередно невалидными форматами полей - с одним символом в поле (5 тестов на каждое поле)

### Интеграционные API и БД:
#### Positive:
* Отправка запросов  api/v1/pay, api/v1/credit с номером карты, где статус Approved. 
* Отправка запросов  api/v1/pay, api/v1/credit с номером карты, где статус Decline. 
* Сверка с БД (тип оплаты, статус оплаты, сумма за тур, дата создания (в таблицах credit_request_entity и payment_entity), а также появление валидных записей в таблице order_entity)
#### Negative:
* Отправка запросов  api/v1/pay, api/v1/credit с поочередно пустыми параметрами (5 тестов на каждый параметр)
* Отправка запросов  api/v1/pay, api/v1/credit с поочередно невалидными форматами параметров -  1 символ в параметр (5 тестов на каждое поле)
* Отправка запросов  api/v1/pay, api/v1/credit с номером карты, где номер не из data.json
* Отправка запросов  api/v1/pay, api/v1/credit с месяцем - граничные значения: 00, 01, 12, 13
* Отправка запросов  api/v1/pay, api/v1/credit с годом - граничные значения (текущий год - 1, текущий год, текущий год + 5 лет, текущий год + 6 лет): 20, 21, 26, 27
* Отправка запросов  api/v1/pay, api/v1/credit с годом и месяцем - комбинация граничных значений (текущий месяц - 1 и текущий год, текущий месяц + 2 и текущий год + 5 лет):
 02.21, 05.26
* Отправка запросов  api/v1/pay, api/v1/credit с именем, где имя не латиница (цифра, кириллица)
* Отправка запросов  api/v1/pay, api/v1/credit с именем, где имя 65 символов
* Отправка запросов  api/v1/pay, api/v1/credit с CVC, где CVC не цифры (латиница)


## Перечень используемых инструментов с обоснованием выбора
Автоматизированное тестирование - т.к. тестируемый функционал часто используется пользователями и будет включен в регресс или смоук.
Для автоматизации будет использоваться связка Java 11 + Gradle + JUnit 5 + Selenide +  Allure 2. 

#### Выбраны следующие инструменты:
* Java -  большое комьюнити, много ресурсов/материалов по автоматизации на Java 
* intellij idea - т.к бесплатная версия,  большое комьюнити, множество поддерживаемых плагинов, редактор кода, юзабилити.
* Allure 2 -  т.к бесплатная версия, юзабилити - удобная группировка тестов, история
* Github - как гит репозиторий и CI - бесплатная версия

## Перечень и описание возможных рисков при автоматизации
1) Наличие багов в SUT -> ожидаемое поведение будет неизвестно, усложнит разработку автотестов
2) Больничный
3) Квалификация автотестера
4) Взаимодействие в команде (с руководителем)
5) Отсутствие макетов всего функционала
6) Тестирование в разных браузерах - не сказано какие браузеры поддерживаем

## Перечень необходимых специалистов для автоматизации
1) специалист тестирования
2) руководитель

## Интервальная оценка с учётом рисков (в часах) в тестировании
#### Итого: 28 часов

Написание автотестов - 27 часов:
* UI тесты (а также зависимости, подключение библиотек, архитектура фреймворка) - 9 часа
* Интеграционные тесты (а также зависимости, подключение библиотек, архитектура фреймворка) - 12 часов
* Allure отчет - 3 часа
* Написание отчета по автоматизации - 2 часа
* Заведение багов - 1 час

Учет рисков - 1 час: 
1) Наличие багов в SUT -> ожидаемое поведение будет неизвестно, усложнит разработку автотестов - написание заглушек, время на UI тесты - 1 час
2) Больничный - не оценивается 
3) Квалификация автотестера - не оценивается 
4) Взаимодействие в команде (с руководителем) - не оценивается 
5) Отсутствие макетов всего функционала - не оценивается 
6) Тестирование в разных браузерах - не сказано какие браузеры поддерживаем - не оценивается 

## План сдачи работ
1) Автоттесты : 09.03.2021
2) Результаты прогона: 09.03.2021
3) Отчёт по автоматизации: 09.03.2021